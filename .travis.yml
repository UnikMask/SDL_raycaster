# This travis.yml is a modification of the file at https://riptutorial.com/cmake/example/4723/configure-travis-ci-with-newest-cmake
# courtesy of cmake.org
language: cpp

compiler:
  - gcc

addons:
    apt:
        update: true
        sources:
            - sourceline: 'ppa:ubuntu-toolchain-r/test'
        packages:
            - libsdl2-dev
            - libsdl2-image-dev
            - cmake-3.15
            - catch2
            - g++-9.3


install:    
  - cd ${TRAVIS_BUILD_DIR}

before_script:
  # create a build folder for the out-of-source build
  - mkdir build
  # switch to build directory
  - cd build
  # run cmake; here we assume that the project's
  # top-level CMakeLists.txt is located at '..'
  - cmake .. -DCOMPILE_TEST=ON

script:
  # once CMake has done its job we just build using make as usual
  - make
  # if the project uses ctest we can run the tests like this
  - src/test/Tester
